function jqplotToImg(a){var b=document.createElement("canvas");b.width=$("#"+a).width(),b.height=$("#"+a).height();var c=$("#"+a).offset();return $("#"+a).children().each(function(){if("div"==$(this)[0].tagName.toLowerCase())$(this).children("canvas").each(function(){var a=$(this).offset();b.getContext("2d").drawImage(this,a.left-c.left,a.top-c.top)}),$(this).children("div").each(function(){var a=$(this).offset(),d=b.getContext("2d");d.font=$(this).css("font-style")+" "+$(this).css("font-size")+" "+$(this).css("font-family"),d.fillText($(this).html(),a.left-c.left,a.top-c.top+10)});else if("canvas"==$(this)[0].tagName.toLowerCase()){var a=$(this).offset();b.getContext("2d").drawImage(this,a.left-c.left,a.top-c.top)}}),$("#"+a).children(".jqplot-point-label").each(function(){var a=$(this).offset(),d=b.getContext("2d");d.font=$(this).css("font-style")+" "+$(this).css("font-size")+" "+$(this).css("font-family"),d.fillText($(this).html(),a.left-c.left,a.top-c.top+10)}),$("#"+a+" *").children(".jqplot-table-legend-swatch").each(function(){var a=$(this).offset(),d=b.getContext("2d");d.setFillColor($(this).css("background-color")),d.fillRect(a.left-c.left,a.top-c.top,15,15)}),$("#"+a+" *").children(".jqplot-table-legend td:last-child").each(function(){var a=$(this).offset(),d=b.getContext("2d");d.font=$(this).css("font-style")+" "+$(this).css("font-size")+" "+$(this).css("font-family"),d.fillText($(this).html(),a.left-c.left,a.top-c.top+15)}),b.toDataURL()}