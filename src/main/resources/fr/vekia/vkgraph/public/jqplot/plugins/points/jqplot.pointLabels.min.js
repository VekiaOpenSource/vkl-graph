!function(a){"use strict";var b={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},c=["se","s","sw","w","nw","n","ne","e"];a.jqplot.PointLabels=function(b){this.show=a.jqplot.config.enablePlugins,this.location="n",this.labelsFromSeries=!1,this.seriesLabelIndex=null,this.labels=[],this._labels=[],this.stackedValue=!1,this.ypadding=6,this.xpadding=6,this.escapeHTML=!0,this.edgeTolerance=-5,this.formatter=a.jqplot.DefaultTickFormatter,this.formatString="",this.hideZeros=!1,this._elems=[],this.darkColor="#000",this.brightColor="#EEE",this.checkColorBrightnessLevel=!1,a.extend(!0,this,b)},a.jqplot.PointLabels.init=function(b,c,d,e,f){var g=a.extend(!0,{},d,e);g.pointLabels=g.pointLabels||{},this.renderer.constructor!==a.jqplot.BarRenderer||"horizontal"!==this.barDirection||g.pointLabels.location||(g.pointLabels.location="e"),this.plugins.pointLabels=new a.jqplot.PointLabels(g.pointLabels),this.plugins.pointLabels.setLabels.call(this)},a.jqplot.PointLabels.prototype.setLabels=function(){var b,c,d,e=this.plugins.pointLabels;if(b=null!==e.seriesLabelIndex?e.seriesLabelIndex:this.renderer.constructor===a.jqplot.BarRenderer&&"horizontal"===this.barDirection?this._plotData[0].length<3?0:this._plotData[0].length-1:0===this._plotData.length?0:this._plotData[0].length-1,e._labels=[],0===e.labels.length||e.labelsFromSeries)if(e.stackedValue){if(this._plotData.length&&this._plotData[0].length)for(d=0;d<this._plotData.length;d++)e._labels.push(this._plotData[d][b])}else{if(c=this.data,this.renderer.constructor===a.jqplot.BarRenderer&&this.waterfall&&(c=this._data),c.length&&c[0].length)for(d=0;d<c.length;d++)e._labels.push(c[d][b]);c=null}else e.labels.length&&(e._labels=e.labels)},a.jqplot.PointLabels.prototype.xOffset=function(a,b,c){var d;switch(b=b||this.location,c=c||this.xpadding,b){case"nw":d=-a.outerWidth(!0)-this.xpadding;break;case"n":d=-a.outerWidth(!0)/2;break;case"ne":d=this.xpadding;break;case"e":d=this.xpadding;break;case"se":d=this.xpadding;break;case"s":d=-a.outerWidth(!0)/2;break;case"sw":d=-a.outerWidth(!0)-this.xpadding;break;case"w":d=-a.outerWidth(!0)-this.xpadding;break;default:d=-a.outerWidth(!0)-this.xpadding}return d},a.jqplot.PointLabels.prototype.yOffset=function(a,b,c){var d;switch(b=b||this.location,c=c||this.xpadding,b){case"nw":d=-a.outerHeight(!0)-this.ypadding;break;case"n":d=-a.outerHeight(!0)-this.ypadding;break;case"ne":d=-a.outerHeight(!0)-this.ypadding;break;case"e":d=-a.outerHeight(!0)/2;break;case"se":d=this.ypadding;break;case"s":d=this.ypadding;break;case"sw":d=this.ypadding;break;case"w":d=-a.outerHeight(!0)/2;break;default:d=-a.outerHeight(!0)-this.ypadding}return d},a.jqplot.PointLabels.draw=function(d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=this.plugins.pointLabels,z=this._plotData,A=this._xaxis,B=this._yaxis,C=this;for(y.setLabels.call(this),g=0,h=y._elems.length;h>g;g++)y._elems[g]&&y._elems[g].emptyForce();if(y._elems.splice(0,y._elems.length),y.show)for(k="_"+this._stackAxis+"axis",y.formatString||(y.formatString=this[k]._ticks[0].formatString,y.formatter=this[k]._ticks[0].formatter),g=0,h=y._labels.length;h>g;g++)l=y._labels[g],m=y.location,null===l||y.hideZeros&&0===parseInt(l,10)||(l=y.formatter(y.formatString,l),j=document.createElement("div"),y._elems[g]=a(j),i=y._elems[g],i.addClass("jqplot-point-label jqplot-series-"+this.index+" jqplot-point-"+g).css("position","absolute"),x=this._dataColors&&this._dataColors[g]?this._dataColors[g]:this.color,("horizontal"===this.barDirection&&"w"===y.location||y.checkColorBrightnessLevel)&&(a.jqplot.isDarkColor(x)?(i.addClass("jqplot-point-brightColor"),null!==y.brightColor&&i.css("color",y.brightColor)):(i.addClass("jqplot-point-darkColor"),null!==y.darkColor&&i.css("color",y.darkColor))),i.insertAfter(d.canvas),y.escapeHTML?i.text(l):i.html(l),(this.fillToZero&&z[g][1]<0||this.fillToZero&&"bar"===this._type&&"horizontal"===this.barDirection&&z[g][0]<0||(this.waterfall&&parseInt(l,10))<0)&&(m=c[b[m]]),n=A.u2p(z[g][0])+y.xOffset(i,m),o=B.u2p(z[g][1])+y.yOffset(i,m),this._stack&&!y.stackedValue&&(w=C._barPoints[g],"vertical"===this.barDirection?(o=(w[0][1]+w[1][1])/2+f._gridPadding.top-.5*i.outerHeight(!0),n=(w[2][0]+w[0][0])/2+f._gridPadding.left-.5*i.outerWidth(!0)):n=(w[2][0]+w[0][0])/2+f._gridPadding.left-.5*i.outerWidth(!0)),this.renderer.constructor===a.jqplot.BarRenderer&&("vertical"===this.barDirection?n+=this._barNudge:o-=this._barNudge),i.css({left:n,top:o}),p=n+i.width(),q=o+i.height(),r=y.edgeTolerance,s=a(d.canvas).position().left,t=a(d.canvas).position().top,u=d.canvas.width+s,v=d.canvas.height+t,i=null,j=null)},a.jqplot.postSeriesInitHooks.push(a.jqplot.PointLabels.init),a.jqplot.postDrawSeriesHooks.push(a.jqplot.PointLabels.draw)}(jQuery);